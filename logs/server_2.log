[23:54:42] [INFO] 📂 Server 2 loading cover image from: test_images/cover_image.jpg
[23:54:42] [INFO] ✅ Server 2 loaded cover image: 4096x3320 pixels (4980 KB capacity)
[23:54:42] [INFO] 🚀 Server 2 starting on 10.40.38.47:8001
[23:54:42] [INFO] 📡 Server 2 listening on 10.40.38.47:8001
[23:54:43] [INFO] 🤝 Server 2 connected to peer 1
[23:54:45] [INFO] ⏰ Initial election timer expired, starting election...
[23:54:45] [INFO] 🗳️  Server 2 initiating election
[23:54:45] [INFO] 📊 Server 2 priority: 3.37 (CPU: 0.8%, Tasks: 0, Memory: 85.2% available)
[23:54:45] [INFO] 📤 Server 2 broadcasting ELECTION message
[23:54:45] [INFO] ⏳ Server 2 waiting 2s for election responses...
[23:54:47] [INFO] 🎉 Server 2 won election! (lowest priority score: 3.37)
[23:54:47] [INFO] 📤 Server 2 broadcasting COORDINATOR message
[23:54:47] [INFO] 📥 Server 2 (new leader) syncing history from peers...
[23:54:47] [INFO] 📥 Server 2 (new leader) requesting history from all peers...
[23:54:49] [INFO] 📭 Server 2 received no history sync responses (peers may be empty or unavailable)
[23:54:49] [INFO] 🔍 Server 2 (new leader) checking for orphaned tasks...
[23:55:20] [INFO] 📊 LOAD DISTRIBUTION:
[23:55:20] [INFO]    Server 2 (me, leader): 5.31
[23:55:20] [INFO]    Server 1: 3.38
[23:55:20] [INFO] 📌 Task #17221007618976804659 from Client1 assigned to Server 1 (load: 3.38)
[23:55:31] [INFO] 🔁 Task #17221007618976804659 from Client1 already assigned to Server 1 (idempotent retry)
[23:55:43] [INFO] 📊 LOAD DISTRIBUTION:
[23:55:43] [INFO]    Server 2 (me, leader): 8.07
[23:55:43] [INFO]    Server 1: 3.62
[23:55:43] [INFO] 📌 Task #17221007618976804659 from Client1 assigned to Server 1 (load: 3.62)
[23:55:54] [INFO] 📊 LOAD DISTRIBUTION:
[23:55:54] [INFO]    Server 2 (me, leader): 6.50
[23:55:54] [INFO]    Server 1: 3.67
[23:55:54] [INFO] 📌 Task #17221007618976804659 from Client1 assigned to Server 1 (load: 3.67)
[23:56:05] [INFO] 📊 LOAD DISTRIBUTION:
[23:56:05] [INFO]    Server 2 (me, leader): 6.32
[23:56:05] [INFO]    Server 1: 3.63
[23:56:05] [INFO] 📌 Task #17221007618976804659 from Client1 assigned to Server 1 (load: 3.63)
[23:56:16] [INFO] 📊 LOAD DISTRIBUTION:
[23:56:16] [INFO]    Server 2 (me, leader): 5.08
[23:56:16] [INFO]    Server 1: 6.07
[23:56:16] [INFO] 📌 Task #17221007618976804659 from Client1 assigned to Server 2 (load: 5.08)
[23:56:21] [INFO] 📥 Server 2 received task #17221007618976804659 from client 'Client1' (assigned by leader 2)
[23:56:21] [INFO] 📊 Server 2 starting task #17221007618976804659 (Active tasks: 1, CPU: 2.8%)
[23:56:21] [INFO] 📷 Server 2 processing encryption request #17221007618976804659 from client 'Client1'
[23:56:21] [INFO] 📷 Server 2 processing encryption request #17221007618976804659 from client 'Client1' (secret image size: 517862 bytes)
[23:56:21] [INFO] ✅ Server 2 completed encryption for request #17221007618976804659 (result size: 15189737 bytes)
[23:56:21] [INFO] ✅ Server 2 completed encryption for request #17221007618976804659
[23:56:21] [INFO] ✅ Server 2 completed task #17221007618976804659 (Remaining tasks: 0, CPU: 7.9%)
[23:56:22] [INFO] ✅ Server 2 received ACK from client 'Client1' for task #17221007618976804659
[23:56:22] [INFO] 🗑️  Server 2 removed task #17221007618976804659 from history after client ACK
[23:56:22] [INFO] 📊 LOAD DISTRIBUTION:
[23:56:22] [INFO]    Server 2 (me, leader): 8.80
[23:56:22] [INFO]    Server 1: 3.98
[23:56:22] [INFO] 📌 Task #17221007618976804659 from Client1 assigned to Server 1 (load: 3.98)
[00:00:43] [ERROR] ❌ Error sending to peer 1: Broken pipe (os error 32)
[00:00:43] [WARN] ⚠️  Server 2 lost connection to peer 1
[00:00:45] [INFO] 🤝 Server 2 connected to peer 1
[00:00:48] [INFO] 🗳️  Server 2 received ELECTION from 1 (priority: 3.59)
[00:00:48] [INFO] 💪 Server 2 has lower priority (3.22 < 3.59), responding with ALIVE
[00:00:48] [INFO] 🗳️  Server 2 initiating election
[00:00:48] [INFO] 📊 Server 2 priority: 3.22 (CPU: 0.6%, Tasks: 0, Memory: 85.4% available)
[00:00:48] [INFO] 📤 Server 2 broadcasting ELECTION message
[00:00:48] [INFO] ⏳ Server 2 waiting 2s for election responses...
[00:00:50] [INFO] 🎉 Server 2 won election! (lowest priority score: 3.22)
[00:00:50] [INFO] 📤 Server 2 broadcasting COORDINATOR message
[00:00:50] [INFO] 📥 Server 2 (new leader) syncing history from peers...
[00:00:50] [INFO] 📥 Server 2 (new leader) requesting history from all peers...
[00:00:52] [INFO] 📭 Server 2 received no history sync responses (peers may be empty or unavailable)
[00:00:52] [INFO] 🔍 Server 2 (new leader) checking for orphaned tasks...
[00:01:46] [INFO] 📊 LOAD DISTRIBUTION:
[00:01:46] [INFO]    Server 2 (me, leader): 4.94
[00:01:46] [INFO]    Server 1: 3.48
[00:01:46] [INFO] 📌 Task #4528312815554469129 from Client1 assigned to Server 1 (load: 3.48)
[00:01:57] [INFO] 🔁 Task #4528312815554469129 from Client1 already assigned to Server 1 (idempotent retry)
[00:02:08] [INFO] 📊 LOAD DISTRIBUTION:
[00:02:08] [INFO]    Server 2 (me, leader): 5.17
[00:02:08] [INFO]    Server 1: 3.71
[00:02:08] [INFO] 📌 Task #4528312815554469129 from Client1 assigned to Server 1 (load: 3.71)
[00:09:16] [INFO] 📊 LOAD DISTRIBUTION:
[00:09:16] [INFO]    Server 2 (me, leader): 5.55
[00:09:16] [INFO]    Server 1: 3.47
[00:09:16] [INFO] 📌 Task #11816209177691299765 from Client1 assigned to Server 1 (load: 3.47)
[00:09:46] [INFO] 📊 LOAD DISTRIBUTION:
[00:09:46] [INFO]    Server 2 (me, leader): 5.08
[00:09:46] [INFO]    Server 1: 3.71
[00:09:46] [INFO] 📌 Task #5547960047600104848 from Client1 assigned to Server 1 (load: 3.71)
