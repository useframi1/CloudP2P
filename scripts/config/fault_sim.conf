# CloudP2P Fault Simulation Configuration
#
# This file configures the fault simulation controller that uses SSH
# to kill and restart servers in a ring algorithm pattern.
#
# Prerequisites:
#   - SSH key-based authentication configured
#   - Run: ssh-copy-id user@server_host
#   - Or manually copy ~/.ssh/id_rsa.pub to server's ~/.ssh/authorized_keys

# Timing parameters
# Time to wait between each server failure (in seconds)
FAULT_INTERVAL_SECS=30

# How long each server stays down (in seconds)
RESTART_DELAY_SECS=10

# Number of times to cycle through all servers
NUM_CYCLES=3

# Log file for fault events
LOG_FILE="./fault_events.log"

# ===== Server 1 Configuration =====
SERVER_1_HOST="g03-s2025@10.40.39.41"
SERVER_1_CONFIG="/home/g03-s2025/Documents/Distrubuted-Systems/cloud-p2p-image-sharing/config/server1.toml"
SERVER_1_WORK_DIR="/home/g03-s2025/Documents/Distrubuted-Systems/cloud-p2p-image-sharing"
SERVER_1_BINARY="./target/release/server"

# ===== Server 2 Configuration =====
SERVER_2_HOST="g03-s2025@10.40.38.47"
SERVER_2_CONFIG="/home/g03-s2025/Desktop/CloudP2P/config/server2.toml"
SERVER_2_WORK_DIR="/home/g03-s2025/Desktop/CloudP2P"
SERVER_2_BINARY="./target/release/server"

# ===== Server 3 Configuration =====
# SERVER_3_HOST="youssef@10.40.51.153"
# SERVER_3_CONFIG="/Users/youssef/Documents/Fall-2025/Distributed-Systems/CloudP2P/config/server3.toml"
# SERVER_3_WORK_DIR="/Users/youssef/Documents/Fall-2025/Distributed-Systems/CloudP2P"
# SERVER_3_BINARY="./target/release/server"

# ===== Additional Servers (Optional) =====
# Uncomment and configure if you have more than 3 servers
# SERVER_4_HOST="user@192.168.1.13"
# SERVER_4_CONFIG="/root/CloudP2P/config/server4.toml"
# SERVER_4_WORK_DIR="/root/CloudP2P"
# SERVER_4_BINARY="./target/release/server"

# Notes:
# 1. The ring algorithm will process servers in order: 1 -> 2 -> 3 -> ... -> 1
# 2. Each server will be killed, wait RESTART_DELAY_SECS, then restarted
# 3. After each server restart, wait FAULT_INTERVAL_SECS before the next server
# 4. This pattern repeats for NUM_CYCLES times
#
# Example timeline for 3 servers, 30s interval, 10s delay:
#   T=0s:   Kill Server 1
#   T=10s:  Restart Server 1
#   T=40s:  Kill Server 2
#   T=50s:  Restart Server 2
#   T=80s:  Kill Server 3
#   T=90s:  Restart Server 3
#   T=120s: [Cycle 1 complete, start Cycle 2 if configured]
